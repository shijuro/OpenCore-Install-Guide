(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{476:function(t,e,a){t.exports=a.p+"assets/img/config-gpu.65a08c27.png"},477:function(t,e,a){t.exports=a.p+"assets/img/corp-windows.cba6825c.png"},635:function(t,e,a){"use strict";a.r(e);var n=a(25),i=Object(n.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"отключение-gpu"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#отключение-gpu"}},[t._v("#")]),t._v(" Отключение GPU")]),t._v(" "),n("ul",[n("li",[t._v("Поддерживаемая версия: 0.6.5")])]),t._v(" "),n("p",[t._v("Значит, вам нужно скрыть свой неподдерживаемый графический процессор? Что ж, с OpenCore все немного иначе, в частности, нам нужно указать, какое именно устройство мы хотим подменить. Есть 3 способа сделать это:")]),t._v(" "),n("ul",[n("li",[t._v("Флаг загрузки\n"),n("ul",[n("li",[t._v("Отключает все графические процессоры, кроме iGPU")])])]),t._v(" "),n("li",[t._v("DeviceProperties\n"),n("ul",[n("li",[t._v("Отключает графический процессор для каждого слота")])])]),t._v(" "),n("li",[t._v("SSDT\n"),n("ul",[n("li",[t._v("Отключает графический процессор для каждого слота")])])])]),t._v(" "),n("p",[n("strong",[t._v("CSM должен быть отключен в BIOS для правильной работы спуфинга, особенно на системах с процессорами AMD.")])]),t._v(" "),n("h3",{attrs:{id:"флаг-загрузки"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#флаг-загрузки"}},[t._v("#")]),t._v(" Флаг загрузки")]),t._v(" "),n("p",[t._v("Безусловно самый простой способ. Все, что вам нужно сделать, это просто добавить следующий boot-arg:")]),t._v(" "),n("p",[n("code",[t._v("-wegnoegpu")])]),t._v(" "),n("p",[t._v("Обратите внимание, что это отключит все GPU, кроме iGPU.")]),t._v(" "),n("h3",{attrs:{id:"метод-deviceproperties"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#метод-deviceproperties"}},[t._v("#")]),t._v(" Метод DeviceProperties")]),t._v(" "),n("p",[t._v("Здесь все довольно просто, найдите путь PCI с помощью "),n("a",{attrs:{href:"https://github.com/acidanthera/gfxutil/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("gfxutil"),n("OutboundLink")],1),t._v(", а затем создайте новый раздел в DeviceProperties с вашей подменой:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("путь/к/gfxutil -f GFX0\n")])])]),n("p",[t._v("И в результате получится что-то похожее:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("DevicePath = PciRoot(0x0)/Pci(0x1,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)\n")])])]),n("p",[t._v("С этим результатом, перейдите в раздел "),n("code",[t._v("Root -> DeviceProperties -> Add")]),t._v(" и добавьте свой PCI путь со следующими свойствами:")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("23646973706C6179")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("IOName")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("#display")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("class-code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("FFFFFFFF")])])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(476),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"метод-ssdt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#метод-ssdt"}},[t._v("#")]),t._v(" Метод SSDT")]),t._v(" "),n("p",[t._v("Есть много способов найти путь, но, как правило, самый простой способ - зайти в Диспетчер Устройств в Windows и найти путь PCI.")]),t._v(" "),n("p",[t._v("Пример пути к устройству (Device Path) для "),n("code",[t._v("\\_SB.PCI0.PEG0.PEGP")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('\n    DefinitionBlock ("", "SSDT", 2, "hack", "spoof", 0x00000000)\n    {\n       External (_SB_.PCI0.PEG0.PEGP, DeviceObj)    // (from opcode)\n\n       Method (_SB.PCI0.PEG0.PEGP._DSM, 4, NotSerialized)  // _DSM: Device-Specific Method\n       {\n          If (LOr (LNot (Arg2), LEqual (_OSI ("Darwin"), Zero)))\n          {\n             Return (Buffer (One)\n             {\n                0x03\n             })\n          }\n\n          Return (Package (0x0A)\n          {\n             "name",\n             Buffer (0x09)\n             {\n                "#display"\n             },\n\n             "IOName",\n             "#display",\n             "class-code",\n             Buffer (0x04)\n             {\n                0xFF, 0xFF, 0xFF, 0xFF\n             },\n\n             "vendor-id",\n             Buffer (0x04)\n             {\n                0xFF, 0xFF, 0x00, 0x00\n             },\n\n             "device-id",\n             Buffer (0x04)\n             {\n                0xFF, 0xFF, 0x00, 0x00\n             }\n          })\n       }\n    }\n\n')])])]),n("p",[t._v("Копию этого SSDT можно найти здесь: "),n("a",{attrs:{href:"https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/Spoof-SSDT.dsl",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spoof-SSDT.dsl"),n("OutboundLink")],1),t._v(". Вам понадобится "),n("a",{attrs:{href:"https://github.com/acidanthera/MaciASL/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("MaciASL"),n("OutboundLink")],1),t._v(" для компиляции этого. Помните, что "),n("code",[t._v(".aml")]),t._v(" - машинный код, а "),n("code",[t._v(".dsl")]),t._v(" - исходный код. Вы можете скомпилировать с помощью MaciASL, выбрав Файл -> Сохранить как -> ACPI Machine Language.")]),t._v(" "),n("p",[t._v("Источник: CorpNewt")]),t._v(" "),n("h2",{attrs:{id:"выбор-gpu-в-windows"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#выбор-gpu-в-windows"}},[t._v("#")]),t._v(" Выбор GPU в Windows")]),t._v(" "),n("p",[t._v("В зависимости от ваших настроек, вы можете обнаружить, что Windows отрисовывает игры или приложения используя нежелательный, для вас, графический процессор.")]),t._v(" "),n("p",[t._v("У многих пользователей всего два графических процессора. Nvidia и Intel HD/UHD IGPU. Поскольку Nvidia больше не работает в macOS, они могут подключить монитор к разъему HDMI/DP материнской платы для удобства. В результате, Windows будет отрисовывать все игры и приложения через iGPU. Вы можете перенаправить определенную игру или приложение на другой GPU, выбрав Settings > System > Display > Graphics settings")]),t._v(" "),n("p",[n("img",{attrs:{src:a(477),alt:"Credit to CorpNewt for image"}})]),t._v(" "),n("p",[t._v("Отрисованная игра или приложение будут иметь свой буфер, скопированный в iGPU. Который как раз таки будет вам отображаться. У этого есть несколько недостатков:")]),t._v(" "),n("ul",[n("li",[t._v("GSync больше не будет работать.")]),t._v(" "),n("li",[t._v("Настройки Nvidia нельзя будет открыть. Для этого требуется, чтобы дисплей был подключен к графическому процессору")]),t._v(" "),n("li",[t._v("Уменьшение частоты кадров.")]),t._v(" "),n("li",[t._v("Увеличение задержки ввода.")]),t._v(" "),n("li",[t._v("Ограничение частоты обновления.")])]),t._v(" "),n("p",[t._v("Если у вашей материнской платы есть только разъем HDMI для iGPU, максимальная частота обновления для спецификации 2.1 составляет "),n("a",{attrs:{href:"https://www.hdmi.org/spec21Sub/EightK60_FourK120",target:"_blank",rel:"noopener noreferrer"}},[t._v("120 Гц"),n("OutboundLink")],1),t._v(". Предполагается, что ваша плата и монитор имеют одинаковые характеристики. И это означает, что ваш монитор 144 Гц будет определятся оборудованием как 120 Гц. Это ограничение "),n("em",[t._v("не")]),t._v(" применяется, если ваша плата имеет разъем DP для iGPU.")]),t._v(" "),n("p",[t._v("Если у вас есть более двух графических процессоров (AMD, Nvidia и Intel), эта настройка будет ограничена. Монитор, подключенный к AMD GPU означает, что Windows позволит выбрать вам либо AMD GPU, либо Intel iGPU. Графический процессор Nvidia не будет отображаться. В будущей версии Windows, это "),n("a",{attrs:{href:"https://pureinfotech.com/windows-10-21h1-new-features/#:~:text=Graphics%20settings",target:"_blank",rel:"noopener noreferrer"}},[t._v("ограничение будет снято"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("В качестве рекомендации, если вы используете обе операционные системы одинаково и предпочитаете пользоваться без недостатков, лучшим вариантом будет переключатель HDMI или DP.")])])}),[],!1,null,null,null);e.default=i.exports}}]);